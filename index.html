<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"> -->
    <title>ATOMS 3D</title>
    <link rel="stylesheet" href="fontawesome-5.5/css/all.min.css" />
    <link rel="stylesheet" href="slick/slick.css">
    <link rel="stylesheet" href="slick/slick-theme.css">
    <link rel="stylesheet" href="magnific-popup/magnific-popup.css">
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/templatemo-style.css" />
    
    <!--<script id="shader-vs" type="x-shader/x-vertex">
        attribute vec3 aVertexPosition;
        attribute vec3 aVertexColor;
        uniform mat4 uMVMatrix;
        uniform mat4 uPMatrix;
        varying vec4 vertexColor;
        void main(void) {
          gl_PointSize = 5.0;
          gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
          vertexColor = vec4(aVertexColor, 1.0);
        }
    </script>
    
    <script id="shader-fs" type="x-shader/x-fragment">
      precision mediump float;
      varying vec4 vertexColor;
      void main(void) {
        gl_FragColor = vertexColor;
      }
    </script>-->

    <script id="shader-vs" type="x-shader/x-vertex">	
      attribute vec3 vPosition;
      uniform mat4 uMVMatrix;
      uniform mat4 uPMatrix;   
      varying vec4 fColor;  
      attribute vec3 vNormal;   
      uniform vec4 viewerPosition;
      
      #define MAX_LIGHTS 5
      uniform int numLights;
      uniform struct Light {	
        int isOn;
        vec4 position;
        mat4 lightSourceMatrix; // for animation
        vec3 intensities; //a.k.a the color of the light  
        vec3 ambientIntensities;			
      } allLights[MAX_LIGHTS];
      
      uniform vec3 k_ambient;	
      uniform vec3 k_diffuse;	
      uniform vec3 k_specular;	
      uniform float shininess;
        
      void main(void) {		
        gl_PointSize = 5.0;      
        gl_Position = uPMatrix * uMVMatrix * vec4(vPosition, 1.0);          
        vec3 pos = (uMVMatrix * vec4(vPosition, 1.0)).xyz;     
        fColor = vec4(0.0, 0.0, 0.0, 0.0);	// To add all illumination components
        
        for( int i = 0; i < MAX_LIGHTS; i++ ) 
        {
          if( i == numLights )
            break;
            	
          if( allLights[i].isOn == 0 )			
            continue;
                
          vec4 ambient = vec4( k_ambient * allLights[i].ambientIntensities, 1.0 );	   
          fColor += ambient;
  
        vec3 L;
        
        if(allLights[i].position.w == 0.0)        
            L = normalize( (allLights[i].lightSourceMatrix * allLights[i].position).xyz );      
        else       
            L = normalize( (allLights[i].lightSourceMatrix * allLights[i].position).xyz - pos );
          
        vec3 E;

        if(viewerPosition.w == 1.0)         		
          E = -normalize( pos );       
        else       		
          E = vec3(0,0,1);
           
        vec3 H = normalize( L + E );
     
        vec4 N = normalize( uMVMatrix * vec4(vNormal, 0.0));
  
        float dotProductLN = L[0] * N[0] + L[1] * N[1] + L[2] * N[2]; 		
        float cosNL = max( dotProductLN, 0.0 );   
        vec4  diffuse = vec4( k_diffuse * cosNL * allLights[i].intensities, 1.0 );
        
        float dotProductNH = N[0] * H[0] + N[1] * H[1] + N[2] * H[2]; 		
        float cosNH = pow( max( dotProductNH, 0.0 ), shininess );  
        vec4  specular = vec4( k_specular * cosNH * allLights[i].intensities, 1.0 );  
        if( dotProductLN < 0.0 ) {
          specular = vec4(0.0, 0.0, 0.0, 1.0);
        } 	
        fColor += diffuse + specular;
      }
      }  
    </script>
  
    <script id="shader-fs" type="x-shader/x-fragment">
      precision mediump float;	
      varying vec4 fColor;	
      void main(void) {		
        // Using the passed vertex color		
        gl_FragColor = fColor;
      }
    </script>
  
  <!-- The JS files -->
	<!-- Some useful functions for browser compatibility -->
	<script type="text/javascript" src="webgl-utils.js"></script>
	<!-- Handling vectors and matrices -->
	<script type="text/javascript" src="maths.js"></script>
	<!-- Processing triangle mesh models -->
	<script type="text/javascript" src="models.js"></script>
	<!-- Creating the light sources -->
	<script type="text/javascript" src="lightSources.js"></script>
	<!-- Creating the scene models -->
	<script type="text/javascript" src="sceneModels.js"></script>
	<!-- WebGL code -->
	<script type="text/javascript" src="initShaders.js"></script>
  <script type="text/javascript" src="WebGL_example_26.js"></script>
  <script type="text/javascript" src="WebGL_example_27.js"></script>
</head>

  <body onload="runWebGL();">    
     
      <div class="text-center tm-hero-text-container" style="background-color: black;">
        <div class="container">
          <p style="text-align: center; color:white; padding-top: 30px; padding-bottom: 10px; font-size: 30px;"><b>VISUALIZATION OF MOLECULES AND ATOMS</b></p>

          <div class="row">
            
            <div class="col-lg-6">
              <canvas id="my-canvas" style="border:1px solid white; padding-top: 20px; background-color: rgba(255, 255, 255, 0.8);" width="550" height="540"></canvas>
              <p style="text-align: center; color:white;"><b>WATER MOLECULE</b></p>
              
              <div style="text-align: left; padding-top: 20px;"> 
                <p style="text-align: left; color:white;"><b>ROTATION</b></p>
                <p style="padding-left: 20px;">Model XX rotation: 
                  <button id="XX-on-off-button" class="tm-intro-text tm-btn-primary">On / Off</button>
                  <button id="XX-direction-button" class="tm-intro-text tm-btn-primary">Change Direction</button>
                  <button id="XX-slower-button" class="tm-intro-text tm-btn-primary">Slower</button>
                  <button id="XX-faster-button" class="tm-intro-text tm-btn-primary">Faster</button>
                </p>     
                <p style="text-align: left; color:white; padding-top: 20px"><b>PROJECTION</b></p>
                <p style="padding-left: 20px;">Projection type:
                  <select id="projection-selection" class="custom-select" style="width:200px; height: 40px;">
                    <option value="0">Orthogonal Projection</option>
                    <option value="1">Perspective Projection</option>
                  </select>
                </p>
                <p style="padding-left: 20px;">Rendering mode:
                  <select id="rendering-mode-selection" class="custom-select" style="width:193px; height: 40px;">
                    <option value="0">Filled Triangles</option>
                    <option value="1">Wireframe</option>
                    <option value="2">Vertices</option>
                  </select>
                </p>
              </div>
            </div>
            
            <div class="col-lg-6">
              <canvas id="my-canvas2" style="border:1px solid white; padding-top: 20px; background-color: rgba(255, 255, 255, 0.8);" width="550" height="540"></canvas>
              <p style="text-align: center; color:white;"><b>WATER ATOM</b></p>
            </div>
            
          </div>
          <p style="font-size: 10px; text-align: center; padding-bottom: 10px"> Renato Valente (89077) â€¢ Rita Amante (89264) </p>

        </div>
      </div>


    <!--<section id="hero" class="text-white tm-font-big tm-parallax">      
      <div class="text-center tm-hero-text-container">
        <div class="container">
          <p style="text-align: center; color:white; padding-top: 30px; padding-bottom: 20px; font-size: 30px;"><b>VISUALIZATION OF MOLECULES AND ATOMS</b></p>
          <div class="row">
            
            <div class="col-lg-6">
              <canvas id="my-canvas" style="border:1px solid white; padding-top: 20px; background-color: rgba(255, 255, 255, 0.8);" width="550" height="540"></canvas>
            </div>
            
            <div class="col-lg-6">
              <div style="text-align: left"> 

                <p style="text-align: left; color:white;"><b>ROTATION</b></p>
                <p style="padding-left: 20px;">Model XX rotation: 
                  <button id="XX-on-off-button" class="tm-intro-text tm-btn-primary">On / Off</button>
                  <button id="XX-direction-button" class="tm-intro-text tm-btn-primary">Change Direction</button>
                  <button id="XX-slower-button" class="tm-intro-text tm-btn-primary">Slower</button>
                  <button id="XX-faster-button" class="tm-intro-text tm-btn-primary">Faster</button>
                </p>     
                <p style="padding-left: 20px;">Model YY rotation: 
                  <button id="YY-on-off-button" class="tm-intro-text tm-btn-primary">On / Off</button>
                  <button id="YY-direction-button" class="tm-intro-text tm-btn-primary">Change Direction</button>
                  <button id="YY-slower-button" class="tm-intro-text tm-btn-primary">Slower</button>
                  <button id="YY-faster-button" class="tm-intro-text tm-btn-primary">Faster</button>
                </p>
                <p style="padding-left: 20px;">Model ZZ rotation: 
                  <button id="ZZ-on-off-button" class="tm-intro-text tm-btn-primary">On / Off</button>
                  <button id="ZZ-direction-button" class="tm-intro-text tm-btn-primary">Change Direction</button>
                  <button id="ZZ-slower-button" class="tm-intro-text tm-btn-primary">Slower</button>
                  <button id="ZZ-faster-button" class="tm-intro-text tm-btn-primary">Faster</button>
                </p>

                <p style="text-align: left; color:white; padding-top: 20px"><b>PROJECTION</b></p>
                <p style="padding-left: 20px;">Choose the <b>projection type</b>:
                  <select id="projection-selection" class="custom-select" style="width:300px; height: 40px;">
                    <option value="0">Orthogonal Projection</option>
                    <option value="1">Perspective Projection</option>
                  </select>
                </p>
                <p style="padding-left: 20px;">Choose the <b>rendering mode</b>:
                  <select id="rendering-mode-selection" class="custom-select" style="width:293px; height: 40px;">
                    <option value="0">Filled Triangles</option>
                    <option value="1">Wireframe</option>
                    <option value="2">Vertices</option>
                  </select>
                </p>
                              
                <p style="text-align: left; color:white;"><b>TRANSFORMATION</b></p>
                <p style="padding-left: 20px;">
                  <button id="move-left-button" class="tm-intro-text tm-btn-primary">Left</button>
                  <button id="move-right-button" class="tm-intro-text tm-btn-primary">Right</button>
                  <button id="move-up-button" class="tm-intro-text tm-btn-primary">Up</button>
                  <button id="move-down-button" class="tm-intro-text tm-btn-primary">Down</button>
                  <button id="scale-up-button" class="tm-intro-text tm-btn-primary">Up</button>
                  <button id="scale-down-button" class="tm-intro-text tm-btn-primary">Down</button>
                </p>
                <p style="text-align: left; color:white; padding-top: 20px"><b>PROJECTION</b></p>
                <p style="padding-left: 20px;">Choose the <b>projection type</b>:
                  <select id="projection-selection" class="custom-select" style="width:300px; height: 40px;">
                    <option value="0">Orthogonal Projection</option>
                    <option value="1">Perspective Projection</option>
                  </select>
                </p>
                <p style="padding-left: 20px;">Choose the <b>rendering mode</b>:
                  <select id="rendering-mode-selection" class="custom-select" style="width:293px; height: 40px;">
                    <option value="0">Filled Triangles</option>
                    <option value="1">Wireframe</option>
                    <option value="2">Vertices</option>
                  </select>
                </p>
                <p style="padding-left: 20px;">Choose the <b>molecule</b>:
                  <input type="file" id="text-file" name="file">
                </p>
                <p>
                  <button id="reset-button" class="tm-intro-text tm-btn-primary2">Reset</button>
                </p>
              </div>
            </div>
          </div>
          <p style="font-size: 10px; text-align: center;"> Renato Valente (89077) â€¢ Rita Amante (89264) </p>
        </div>
      </div>
    </section>-->
    
    <script src="js/jquery-1.9.1.min.js"></script>     
    <script src="slick/slick.min.js"></script>
    <script src="magnific-popup/jquery.magnific-popup.min.js"></script>
    <script src="js/jquery.singlePageNav.min.js"></script>     
    <script src="js/bootstrap.min.js"></script> 
    
  </body>
</html>